# Introduction

```{warning}
This book is under construction.
```

This Government Analysis Function guidance is produced by the Data Access Platform capability team in the Methods and Quality directorate of the [Office for National Statistics](https://www.ons.gov.uk/).

This book has been written to fill the gap between Spark text books, official documentation and online examples as the go-to guide for analysts, data scientists and data engineers using PySpark and sparklyr.

The material is a living document, so will be updated over time. We are keen to hear your thoughts and feedback on the book, you can get in touch via [GitHub Issues](https://github.com/best-practice-and-impact/ons-spark/issues). This book is also open to contributions from anyone across UK Government and beyond.

ONS staff should also look at our GitLab pages for organisation and platform-specific information.

## How to use the book

The materials in this book assume the reader is familiar with Python or R and is looking to process big data using PySpark or sparklyr. There are Python and R code cells throughout the book to help explain the topics.

The **Spark Overview** section introduces some basic concepts like distributed computing, when to use Spark, creating Spark sessions and simple interaction with data storage. There is then a section for **Introduction to PySpark** and **Introduction to sparklyr**. That covers the basics.

The next part of your Spark journey is to learn more functions so you can perform more interesting analysis. These are covered in the **Spark Functions** section. As you build more experience you will begin to think more like a Spark developer, choosing certain strategies that suits how Spark processes data.

The most advanced section of the book is **Understanding and Optimising Spark**. It begins with a short summary page before diving into more complex optimisation topics.

The latter two sections, **Testing and Debugging** and **Ancillary Topics**, are included for completeness.

## Further resources

Here are some examples of other free resources we recommend:

- [Learning Spark 2nd edition](https://pages.databricks.com/rs/094-YMS-629/images/LearningSpark2.0.pdf?utm_medium=email&utm_source=databricks&utm_campaign=7014N0000026tqzQAA)
- [Mastering Spark with R](https://therinspark.com/index.html)
- [Spark official documentation](https://spark.apache.org/docs/latest/)
- [PySpark documentation](https://spark.apache.org/docs/latest/api/python/)
- [sparklyr documentation](https://spark.rstudio.com/)
- [Spark by Examples](https://sparkbyexamples.com/)
- [Quality Assurance of Code for Analysis and Research](https://best-practice-and-impact.github.io/qa-of-code-guidance/intro.html) (a.k.a. the Duck Book)
- [Coding for Economists](https://aeturrell.github.io/coding-for-economists/intro.html)

## Accessibility statement

This accessibility statement applies to the Spark at the ONS. Please note that this does not include third-party content that is referenced from this guidance.

The website is managed by the Quality and Improvement division of the Office for National Statistics. We would like this guidance to be accessible for as many people as possible. This means that you should be able to:
* change colours, contrast levels and fonts
* zoom in up to 300% without the text spilling off the screen
* navigate most of the website using just a keyboard
* navigate most of the website using speech recognition software
* listen to most of the website using a screen reader (including the most recent versions of JAWS, NVDA and VoiceOver)

For keyboard navigation, {kbd}`Up Arrow` and {kbd}`Down Arrow` keys can be used to scroll up and down on the current page. {kbd}`Left Arrow` and {kbd}`Right Arrow` keys can be used to move forwards and backwards through the pages of the book. Tabbed content (including code example) can be focused using the {kbd}`Tab` key. {kbd}`Left Arrow` and {kbd}`Right Arrow` keys are then used to focus the required tab option, where {kbd}`Enter` can be used to select that option and display the associated content.


### Feedback and reporting accessibility problems

We are always looking to improve the accessibility of our guidance. If you find any problems not listed on this page or think that we are not meeting accessibility requirements, please contact us using [GitHub Issues](https://github.com/best-practice-and-impact/ons-spark/issues). Please also get in touch if you are unable to access any part of this guidance, or require the content in a different format.

We will consider your request and will get back to you as soon as wen can.


### Enforcement procedure

The Equality and Human Rights Commission (EHRC) is responsible for enforcing the [Public Sector Bodies (Websites and Mobile Applications) (No. 2) Accessibility Regulations 2018 (the ‘accessibility regulations’)](https://www.legislation.gov.uk/uksi/2018/952/made). If you’re not happy with how we respond to your complaint, you should [contact the Equality Advisory and Support Service (EASS)](https://www.equalityadvisoryservice.com/).